<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vehicle Map</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="../static/supabaseClient.js"></script>
  <style>
    body { margin: 0; display: flex; flex-direction: column; height: 100vh; font-family: sans-serif; }
    .back-bar { padding: 15px; background: #333; color: white; }
    .back-bar a { color: white; text-decoration: none; font-weight: bold; }
    img { flex: 1; object-fit: cover; width: 100%; }
  </style>
</head>
<body>
  <div class="back-bar"><a href="track.html">‚Üê Back to Tracking</a></div>
  <img src="vehiclefullmap1.png" alt="Map" />
  <script>
    const sb = window.supabaseClient;
    document.addEventListener('DOMContentLoaded', async () => {
        const { data: { session } } = await sb.auth.getSession();
        if (!session) window.location.href = 'loginfleet.html';
    });
  </script>
</body>
</html>